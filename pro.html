<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JustHodl PRO - Institutional Command Center</title><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"><style>*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0b0e;--sf:#12131a;--cd:#181a24;--bd:#252836;--tx:#e4e6f0;--dm:#6b7294;--ac:#3b82f6;--gn:#10b981;--rd:#ef4444;--yl:#f59e0b;--pr:#8b5cf6;--cy:#06b6d4;--or:#f97316}
body{background:var(--bg);color:var(--tx);font-family:'DM Sans',sans-serif;overflow-x:hidden}
.mo{font-family:'JetBrains Mono',monospace}
.hd{background:linear-gradient(135deg,#0f1019,#141726);border-bottom:1px solid var(--bd);padding:12px 24px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100}
.lg{display:flex;align-items:center;gap:12px}.li{width:36px;height:36px;background:linear-gradient(135deg,var(--ac),var(--pr));border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:14px;color:#fff}
.hr{display:flex;align-items:center;gap:16px}
.kb{display:flex;align-items:center;gap:8px;padding:6px 16px;border-radius:20px;font-weight:700;font-size:18px}
.rb{padding:4px 12px;border-radius:12px;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1px}
.nv{display:flex;gap:2px;padding:0 16px;background:var(--sf);border-bottom:1px solid var(--bd);overflow-x:auto;scrollbar-width:none}.nv::-webkit-scrollbar{display:none}
.nt{padding:10px 16px;font-size:12px;font-weight:500;color:var(--dm);cursor:pointer;border-bottom:2px solid transparent;white-space:nowrap;transition:all .2s}.nt:hover{color:var(--tx)}.nt.a{color:var(--ac);border-bottom-color:var(--ac)}
.pn{display:none;padding:16px;max-width:1600px;margin:0 auto}.pn.a{display:block}
.g{display:grid;gap:12px}.g2{grid-template-columns:repeat(2,1fr)}.g3{grid-template-columns:repeat(3,1fr)}.g4{grid-template-columns:repeat(4,1fr)}.g5{grid-template-columns:repeat(5,1fr)}.g6{grid-template-columns:repeat(6,1fr)}
@media(max-width:1200px){.g4,.g5,.g6{grid-template-columns:repeat(3,1fr)}}@media(max-width:768px){.g2,.g3,.g4,.g5,.g6{grid-template-columns:1fr}}
.c{background:var(--cd);border:1px solid var(--bd);border-radius:10px;padding:16px;transition:all .2s}.c:hover{border-color:rgba(59,130,246,0.3)}
.ch{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.ct{font-size:13px;font-weight:600;color:var(--dm);text-transform:uppercase;letter-spacing:1px}
.cv{font-size:28px;font-weight:700;letter-spacing:-1px}.cs{font-size:12px;color:var(--dm);margin-top:4px}
.sc{text-align:center;padding:20px}
.tbl{width:100%;border-collapse:collapse;font-size:12px}.tbl th{text-align:left;padding:8px 12px;color:var(--dm);font-weight:500;text-transform:uppercase;font-size:10px;border-bottom:1px solid var(--bd)}.tbl td{padding:8px 12px;border-bottom:1px solid rgba(255,255,255,0.03)}.tbl tr:hover td{background:rgba(255,255,255,0.02)}
.tg{display:inline-block;padding:2px 8px;border-radius:4px;font-size:10px;font-weight:600;text-transform:uppercase}
.tg-gn{background:rgba(16,185,129,0.15);color:var(--gn)}.tg-rd{background:rgba(239,68,68,0.15);color:var(--rd)}.tg-yl{background:rgba(245,158,11,0.15);color:var(--yl)}.tg-bl{background:rgba(59,130,246,0.15);color:var(--ac)}.tg-pr{background:rgba(139,92,246,0.15);color:var(--pr)}.tg-cy{background:rgba(6,182,212,0.15);color:var(--cy)}
.si{border-left:3px solid var(--bd);padding:12px 16px;background:var(--cd);border-radius:0 8px 8px 0;margin-bottom:8px}
.si.buy{border-left-color:var(--gn)}.si.sell{border-left-color:var(--rd)}.si.warn{border-left-color:var(--yl)}.si.rev{border-left-color:var(--pr)}
.tc{background:var(--cd);border:1px solid var(--bd);border-radius:10px;padding:16px;margin-bottom:12px}
.td{padding:4px 12px;border-radius:6px;font-size:12px;font-weight:700}.td.long{background:rgba(16,185,129,0.15);color:var(--gn)}.td.short{background:rgba(239,68,68,0.15);color:var(--rd)}
.tt{font-size:13px;line-height:1.6;border-left:2px solid var(--ac);padding-left:12px;margin:8px 0}
.tl{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin:8px 0}
.tli{text-align:center;padding:8px;border-radius:6px;background:var(--sf)}.tll{font-size:10px;color:var(--dm);text-transform:uppercase}.tlv{font-size:16px;font-weight:700;margin-top:2px}
.hm{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:4px}
.hmc{padding:10px;border-radius:6px;text-align:center;font-size:11px;font-weight:600;cursor:pointer;transition:transform .2s}.hmc:hover{transform:scale(1.05)}
.ab{height:32px;border-radius:6px;overflow:hidden;display:flex;margin:8px 0}.as{display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:600;color:#fff}
.ld{display:flex;align-items:center;justify-content:center;min-height:400px;color:var(--dm)}
.sp{width:32px;height:32px;border:3px solid var(--bd);border-top-color:var(--ac);border-radius:50%;animation:spin 1s linear infinite;margin-right:12px}
@keyframes spin{to{transform:rotate(360deg)}}
::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--bd);border-radius:3px}</style></head><body>
<div class="hd"><div class="lg"><div class="li">PRO</div><div><div style="font-size:16px;font-weight:700">JustHodl PRO</div><div style="font-size:10px;color:var(--dm);text-transform:uppercase;letter-spacing:2px">Institutional Command Center v6.0</div></div></div><div class="hr"><div class="kb mo" id="kb">--</div><div class="rb" id="rb">LOADING</div><div style="font-size:11px;color:var(--dm)" id="up">Loading...</div></div></div>
<div class="nv"><div class="nt a" data-tab="overview">Overview</div><div class="nt" data-tab="trades">Trade Ideas</div><div class="nt" data-tab="signals">Signals</div><div class="nt" data-tab="macro">Macro Regime</div><div class="nt" data-tab="yieldcurve">Yield Curve</div><div class="nt" data-tab="credit">Credit</div><div class="nt" data-tab="liquidity">Liquidity</div><div class="nt" data-tab="volatility">Volatility</div><div class="nt" data-tab="sectors">Sectors</div><div class="nt" data-tab="intermarket">Intermarket</div><div class="nt" data-tab="portfolio">Portfolio</div><div class="nt" data-tab="stocks">Stocks</div><div class="nt" data-tab="fred">FRED</div><div class="nt" data-tab="risk">Risk Gauges</div><div class="nt" data-tab="news">News</div><div class="nt" data-tab="raw">{ } Raw</div></div><div id="panels"><div class="pn a" id="p-overview"><div class=ld><div class=sp></div>Loading...</div></div><div class="pn" id="p-trades"></div><div class="pn" id="p-signals"></div><div class="pn" id="p-macro"></div><div class="pn" id="p-yieldcurve"></div><div class="pn" id="p-credit"></div><div class="pn" id="p-liquidity"></div><div class="pn" id="p-volatility"></div><div class="pn" id="p-sectors"></div><div class="pn" id="p-intermarket"></div><div class="pn" id="p-portfolio"></div><div class="pn" id="p-stocks"></div><div class="pn" id="p-fred"></div><div class="pn" id="p-risk"></div><div class="pn" id="p-news"></div><div class="pn" id="p-raw"></div></div>
<script>const DU="https://justhodl-dashboard-live.s3.amazonaws.com/pro-data.json";let D=null;
document.querySelectorAll('.nt').forEach(t=>{t.onclick=()=>{document.querySelectorAll('.nt').forEach(x=>x.classList.remove('a'));document.querySelectorAll('.pn').forEach(p=>p.classList.remove('a'));t.classList.add('a');document.getElementById('p-'+t.dataset.tab).classList.add('a')}});
function kc(k){return k<=20?'var(--rd)':k<=35?'#f97316':k<=50?'var(--yl)':k<=65?'var(--ac)':k<=80?'var(--gn)':'#10b981'}
function cc(v){return v>0?'var(--gn)':v<0?'var(--rd)':'var(--dm)'}
function cs(v){return v>0?'+'+v.toFixed(2):v.toFixed(2)}
function lc(l){return l==='CRISIS'?'var(--rd)':l==='HIGH'?'var(--or)':l==='ELEVATED'?'var(--yl)':l==='NORMAL'?'var(--ac)':'var(--gn)'}
function rc(r){let m={GOLDILOCKS:'var(--gn)',REFLATION:'var(--cy)',MID_CYCLE:'var(--ac)',OVERHEATING:'var(--or)',STAGFLATION:'var(--rd)',RECESSION:'var(--rd)',DEFLATION:'var(--pr)',STRONG_BULL:'var(--gn)',BULL:'var(--gn)',NEUTRAL:'var(--ac)',BEAR:'var(--rd)',STRONG_BEAR:'var(--rd)',CRISIS:'var(--rd)'};return m[r]||'var(--dm)'}
function sr(v,mx,cl,lb,sz=80){let r=sz/2-6,ci=2*Math.PI*r,p=Math.min(v/mx,1);return`<div style="width:${sz}px;height:${sz}px;position:relative;margin:0 auto 10px"><svg width="${sz}" height="${sz}" style="transform:rotate(-90deg)"><circle fill="none" stroke="var(--bd)" stroke-width="6" cx="${sz/2}" cy="${sz/2}" r="${r}"/><circle fill="none" stroke="${cl}" stroke-width="6" stroke-linecap="round" cx="${sz/2}" cy="${sz/2}" r="${r}" stroke-dasharray="${ci}" stroke-dashoffset="${ci*(1-p)}"/></svg><div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:22px;font-weight:700;color:${cl}" class="mo">${v}</div></div><div style="font-size:11px;color:var(--dm);text-transform:uppercase;letter-spacing:1px;text-align:center">${lb}</div>`}
function tg(t,tp){return`<span class="tg tg-${tp}">${t}</span>`}
function scrd(ti,v,sub,cl){return`<div class="c sc">${sr(v,100,cl,ti)}<div class="cs">${sub||''}</div></div>`}
function ro(){
let ki=D.khalid_index||0,kr=D.ki_regime||'',m=D.macro_regime||{},c=D.credit||{},l=D.liquidity||{},v=D.vol_regime||{},g=D.gauges||{},s=D.stats||{};
let spy=D.stocks?.SPY||{},qqq=D.stocks?.QQQ||{},tlt=D.stocks?.TLT||{},gld=D.stocks?.GLD||{};
document.getElementById('kb').innerHTML='KI: '+ki;document.getElementById('kb').style.background=kc(ki)+'22';document.getElementById('kb').style.color=kc(ki);
document.getElementById('rb').innerHTML=kr;document.getElementById('rb').style.background=rc(kr)+'22';document.getElementById('rb').style.color=rc(kr);
document.getElementById('up').innerHTML=D.generated?new Date(D.generated).toLocaleString():'';
let mk=[['SPY','S&P 500',spy],['QQQ','Nasdaq',qqq],['TLT','20Y Tsy',tlt],['GLD','Gold',gld]];
document.getElementById('p-overview').innerHTML=`<div class="g g6" style="margin-bottom:16px">${scrd('Khalid Index',ki,kr,kc(ki))}${scrd('Macro',m.growth_score||0,m.regime||'',rc(m.regime))}${scrd('Liquidity',l.score||0,l.regime||'',l.score>60?'var(--gn)':l.score>40?'var(--yl)':'var(--rd)')}${scrd('Credit',Math.round((c.hy_oas||0)*10),c.phase||'',c.phase==='DISTRESS'?'var(--rd)':'var(--ac)')}${scrd('Volatility',Math.round(v.vix||0),v.regime||'',v.vix>25?'var(--rd)':'var(--ac)')}${scrd('Risk',g.composite?.score||0,g.composite?.level||'',lc(g.composite?.level))}</div>
<div class="g g4" style="margin-bottom:16px">${mk.map(([tk,nm,d])=>`<div class="c"><div class="ch"><span class="ct">${nm}</span><span style="color:${cc(d.daily_chg)}">${cs(d.daily_chg||0)}%</span></div><div class="cv mo">${d.price?.toLocaleString()||'--'}</div><div class="cs">RSI ${d.rsi||'--'} | Trend ${d.trend_score||0}/3</div></div>`).join('')}</div>
<div class="g g2"><div class="c"><div class="ct" style="margin-bottom:12px">RISK GAUGES</div>${Object.entries(g).filter(([k])=>k!=='composite').map(([k,v])=>`<div style="display:flex;align-items:center;gap:8px;margin-bottom:8px"><div style="width:120px;font-size:11px;color:var(--dm);text-transform:capitalize">${k.replace(/_/g,' ')}</div><div style="flex:1;height:6px;background:var(--bd);border-radius:3px;overflow:hidden"><div style="height:100%;width:${v.score}%;background:${lc(v.level)};border-radius:3px"></div></div><div style="width:30px;text-align:right;font-size:12px;font-weight:600;color:${lc(v.level)}" class="mo">${v.score}</div></div>`).join('')}</div>
<div class="c"><div class="ct" style="margin-bottom:12px">SIGNALS</div><div class="g g4" style="margin-bottom:12px"><div style="text-align:center;padding:12px;background:rgba(16,185,129,0.1);border-radius:8px"><div style="font-size:24px;font-weight:700;color:var(--gn)" class="mo">${D.buys?.length||0}</div><div style="font-size:10px;color:var(--dm)">BUYS</div></div><div style="text-align:center;padding:12px;background:rgba(239,68,68,0.1);border-radius:8px"><div style="font-size:24px;font-weight:700;color:var(--rd)" class="mo">${D.sells?.length||0}</div><div style="font-size:10px;color:var(--dm)">SELLS</div></div><div style="text-align:center;padding:12px;background:rgba(245,158,11,0.1);border-radius:8px"><div style="font-size:24px;font-weight:700;color:var(--yl)" class="mo">${D.warnings?.length||0}</div><div style="font-size:10px;color:var(--dm)">WARNS</div></div><div style="text-align:center;padding:12px;background:rgba(139,92,246,0.1);border-radius:8px"><div style="font-size:24px;font-weight:700;color:var(--pr)" class="mo">${D.reversals?.length||0}</div><div style="font-size:10px;color:var(--dm)">REVS</div></div></div><div style="font-size:12px;color:var(--dm)">Trade Ideas: <b style="color:var(--cy)">${D.trade_ideas?.length||0}</b> | FRED: <b>${s.fred_count||0}</b> | Stocks: <b>${s.stock_count||0}</b></div></div></div>
<div class="g g2" style="margin-top:12px"><div class="c"><div class="ct" style="margin-bottom:8px">GAINERS</div><table class="tbl"><thead><tr><th>Ticker</th><th>Price</th><th>Chg</th></tr></thead><tbody>${(D.gainers||[]).slice(0,8).map(g=>`<tr><td><b>${g.ticker}</b></td><td class="mo">${g.price?.toFixed(2)}</td><td class="mo" style="color:var(--gn)">+${g.chg?.toFixed(2)}%</td></tr>`).join('')}</tbody></table></div><div class="c"><div class="ct" style="margin-bottom:8px">LOSERS</div><table class="tbl"><thead><tr><th>Ticker</th><th>Price</th><th>Chg</th></tr></thead><tbody>${(D.losers||[]).slice(0,8).map(l=>`<tr><td><b>${l.ticker}</b></td><td class="mo">${l.price?.toFixed(2)}</td><td class="mo" style="color:var(--rd)">${l.chg?.toFixed(2)}%</td></tr>`).join('')}</tbody></table></div></div>`}
function rt(){let ti=D.trade_ideas||[];let so=D.sector_outlook||{};let wi=so.winners||[];let lo=so.losers||[];let fac=so.factors||{};
let soHTML='';
if(wi.length||lo.length){
soHTML=`<div style="margin-bottom:20px"><h2 style="font-size:18px;font-weight:700;margin-bottom:4px">Sector Outlook - ${so.regime||'--'} Regime</h2>
<div style="font-size:12px;color:var(--dm);margin-bottom:12px">VIX:${fac.vix?.toFixed(1)} | HY:${fac.hy_oas?.toFixed(0)}bp | CPI:${fac.cpi?.toFixed(1)}% | Liq:${fac.liquidity} | RealRate:${fac.real_rate?.toFixed(2)}% | Curve:${fac.curve?.toFixed(2)}</div>
<div class="g g2" style="margin-bottom:16px">
<div class="c"><div class="ct" style="color:var(--gn);margin-bottom:12px">SECTORS TO OUTPERFORM (${wi.length})</div>
${wi.map((s,i)=>`<div style="display:flex;align-items:center;gap:12px;padding:10px;margin-bottom:6px;background:${i<3?'rgba(16,185,129,0.08)':'transparent'};border-radius:8px;border-left:3px solid ${s.score>60?'var(--gn)':s.score>30?'#34d399':'rgba(16,185,129,0.3)'}"><div style="width:28px;height:28px;border-radius:50%;background:${s.score>60?'var(--gn)':s.score>30?'#34d399':'rgba(16,185,129,0.3)'};display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;flex-shrink:0">${s.rank}</div><div style="flex:1"><div style="display:flex;justify-content:space-between;align-items:center"><div><b style="font-size:14px">${s.sector}</b> <span class="mo" style="font-size:11px;color:var(--dm)">${s.etf}</span></div><div style="display:flex;gap:6px;align-items:center"><span class="mo" style="font-size:16px;font-weight:700;color:var(--gn)">+${s.score}%</span><span class="tg tg-${s.confidence==='HIGH'?'gn':s.confidence==='MEDIUM'?'yl':'bl'}">${s.confidence}</span></div></div><div style="font-size:11px;color:var(--dm);margin-top:3px">${s.reasons?.join(' | ')||''}</div><div style="display:flex;gap:12px;margin-top:4px;font-size:10px;color:var(--dm)"><span>$${s.price?.toFixed(2)||'--'}</span><span style="color:${s.chg_20d>0?'var(--gn)':'var(--rd)'}">${s.chg_20d>0?'+':''}${s.chg_20d?.toFixed(1)||0}% 20d</span><span>RSI:${s.rsi?.toFixed(0)||'--'}</span><span>Trend:${s.trend_score||0}/3</span></div></div></div>`).join('')}</div>
<div class="c"><div class="ct" style="color:var(--rd);margin-bottom:12px">SECTORS TO GET SLAUGHTERED (${lo.length})</div>
${lo.map((s,i)=>`<div style="display:flex;align-items:center;gap:12px;padding:10px;margin-bottom:6px;background:${i<3?'rgba(239,68,68,0.08)':'transparent'};border-radius:8px;border-left:3px solid ${s.score<-60?'var(--rd)':s.score<-30?'#f87171':'rgba(239,68,68,0.3)'}"><div style="width:28px;height:28px;border-radius:50%;background:${s.score<-60?'var(--rd)':s.score<-30?'#f87171':'rgba(239,68,68,0.3)'};display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;flex-shrink:0">${lo.length-i}</div><div style="flex:1"><div style="display:flex;justify-content:space-between;align-items:center"><div><b style="font-size:14px">${s.sector}</b> <span class="mo" style="font-size:11px;color:var(--dm)">${s.etf}</span></div><div style="display:flex;gap:6px;align-items:center"><span class="mo" style="font-size:16px;font-weight:700;color:var(--rd)">${s.score}%</span><span class="tg tg-${s.outlook==='SLAUGHTERED'?'rd':'yl'}">${s.outlook}</span></div></div><div style="font-size:11px;color:var(--dm);margin-top:3px">${s.reasons?.join(' | ')||''}</div><div style="display:flex;gap:12px;margin-top:4px;font-size:10px;color:var(--dm)"><span>$${s.price?.toFixed(2)||'--'}</span><span style="color:${s.chg_20d>0?'var(--gn)':'var(--rd)'}">${s.chg_20d>0?'+':''}${s.chg_20d?.toFixed(1)||0}% 20d</span><span>RSI:${s.rsi?.toFixed(0)||'--'}</span><span>Vol:${s.vol?.toFixed(0)||'--'}%</span></div></div></div>`).join('')}</div></div></div>`;
}
document.getElementById('p-trades').innerHTML=soHTML+`<div style="margin-bottom:16px;margin-top:16px"><h2 style="font-size:18px;font-weight:700">Institutional Trade Ideas</h2><div style="font-size:12px;color:var(--dm)">Kelly Criterion | Entry/Stop/Target | Expected Value | <b class="mo" style="color:var(--cy)">${ti.length} Active</b></div></div>${ti.map(t=>`<div class="tc"><div style="display:flex;justify-content:space-between;margin-bottom:8px"><div><span style="font-size:20px;font-weight:700;color:${t.direction==='LONG'?'var(--gn)':'var(--rd)'}">${t.ticker}</span> <span style="color:var(--dm);font-size:12px">${t.name}</span></div><div style="display:flex;gap:6px">${`<span class="td ${t.direction.toLowerCase()}">${t.direction}</span>`} ${tg(t.conviction,t.conviction==='HIGH'?'gn':t.conviction==='MEDIUM'?'yl':'bl')}</div></div><div class="tt">${t.thesis}</div><div class="tl"><div class="tli"><div class="tll">Entry</div><div class="tlv mo" style="color:var(--ac)">$${t.entry}</div></div><div class="tli"><div class="tll">Stop</div><div class="tlv mo" style="color:var(--rd)">$${t.stop}</div></div><div class="tli"><div class="tll">Target</div><div class="tlv mo" style="color:var(--gn)">$${t.target}</div></div><div class="tli"><div class="tll">R:R</div><div class="tlv mo" style="color:var(--cy)">${t.risk_reward}:1</div></div></div><div style="display:flex;gap:12px;flex-wrap:wrap;font-size:11px;color:var(--dm)"><span>Kelly:<b style="color:var(--cy)">${t.kelly_pct}%</b></span><span>MaxLoss:<b style="color:var(--rd)">${t.max_loss_pct}%</b></span><span>MaxGain:<b style="color:var(--gn)">${t.max_gain_pct}%</b></span><span>EV:<b style="color:${t.expected_value>0?'var(--gn)':'var(--rd)'}">$${t.expected_value}</b></span><span>${t.timeframe}</span></div>${t.catalyst?`<div style="margin-top:6px;font-size:11px"><span style="color:var(--cy)">Catalyst:</span> ${t.catalyst}</div>`:''}${t.risk_factors?`<div style="margin-top:3px;font-size:11px"><span style="color:var(--rd)">Risks:</span> ${t.risk_factors.join(' | ')}</div>`:''}</div>`).join('')}`}
function rs(){let b=D.buys||[],s=D.sells||[],w=D.warnings||[],r=D.reversals||[];document.getElementById('p-signals').innerHTML=`<div class="g g2"><div class="c"><div class="ct" style="margin-bottom:12px;color:var(--gn)">BUY (${b.length})</div>${b.map(x=>`<div class="si buy"><div style="display:flex;justify-content:space-between"><div><b>${x.ticker}</b> ${x.name}</div>${tg(x.strength,x.strength.includes('STRONG')?'gn':'cy')}</div><div style="font-size:12px;margin-top:4px">${(x.reasons||[]).join('. ')}</div><div style="font-size:11px;color:var(--dm);margin-top:4px">$${x.price?.toFixed(2)} | RSI:${x.rsi} | T:$${x.target} S:$${x.stop}</div></div>`).join('')||'<div style="color:var(--dm);text-align:center;padding:20px">None</div>'}</div><div class="c"><div class="ct" style="margin-bottom:12px;color:var(--rd)">SELL (${s.length})</div>${s.map(x=>`<div class="si sell"><div style="display:flex;justify-content:space-between"><div><b>${x.ticker}</b> ${x.name}</div>${tg(x.strength,x.strength.includes('STRONG')?'rd':'yl')}</div><div style="font-size:12px;margin-top:4px">${(x.reasons||[]).join('. ')}</div><div style="font-size:11px;color:var(--dm);margin-top:4px">$${x.price?.toFixed(2)} | RSI:${x.rsi}</div></div>`).join('')||'<div style="color:var(--dm);text-align:center;padding:20px">None</div>'}</div></div><div class="g g2" style="margin-top:12px"><div class="c"><div class="ct" style="margin-bottom:12px;color:var(--yl)">WARNINGS (${w.length})</div>${w.map(x=>`<div class="si warn"><b>${x.ticker}</b> ${x.name} ${tg(x.type,'yl')}<div style="font-size:12px;margin-top:4px">${x.message}</div></div>`).join('')||'<div style="color:var(--dm);text-align:center;padding:20px">None</div>'}</div><div class="c"><div class="ct" style="margin-bottom:12px;color:var(--pr)">REVERSALS (${r.length})</div>${r.map(x=>`<div class="si rev"><b>${x.ticker}</b> ${x.name} ${tg(x.type,x.type.includes('BULLISH')?'gn':'rd')}<div style="font-size:12px;margin-top:4px">${x.message}</div></div>`).join('')||'<div style="color:var(--dm);text-align:center;padding:20px">None</div>'}</div></div>`}
function rm(){
var m=D.macro_regime||{},dl=m.dollar||{},ib=m.ice_bofa||{},mf=m.manufacturing||{},ed=m.eurodollar||{},fc=m.credit_conditions||{},gt=m.global_trade||{},rx=m.risk_matrix||{},rvs=m.reversals||[],pr=m.prediction||{},ss=pr.sub_scores||{};
function _ssb(o){var h="";for(var k in o){var v=o[k],nm=k.replace(/_/g," "),cl=v>70?"var(--rd)":v>50?"var(--yl)":v>30?"var(--ac)":"var(--gn)";h+='<div class="c sc"><div style="font-size:20px;font-weight:700;color:'+cl+'" class="mo">'+v+'</div><div class="cs" style="text-transform:capitalize">'+nm+"</div>"+sr(v,100,cl,"")+"</div>"}return h}
function _prs(o){var h="";for(var k in o){h+='<div class="c sc"><div class="mo" style="font-size:16px;font-weight:600">'+o[k]+'</div><div class="cs">'+k+"</div></div>"}return h}
function _rvt(a){if(!a.length)return'<div class="c" style="text-align:center;padding:20px;color:var(--gn)">No trend reversals detected</div>';var h='<div style="overflow-x:auto"><table class="tbl"><thead><tr><th>Series</th><th>Signal</th><th>Z</th><th>Mom</th><th>Pctile</th><th>Implication</th><th>Sev</th></tr></thead><tbody>';for(var i=0;i<a.length;i++){var r=a[i];h+="<tr><td><b>"+r.series+"</b></td><td style='color:"+(r.signal&&r.signal.indexOf("REVERSAL")>=0?"var(--rd)":"var(--yl)")+"'>"+r.signal+"</td><td class='mo' style='color:"+(Math.abs(r.z_score)>2?"var(--rd)":"var(--yl)")+"'>"+r.z_score+"</td><td class='mo' style='color:"+cc(r.momentum)+"'>"+cs(r.momentum)+"%</td><td class='mo'>"+r.percentile+"%</td><td style='font-size:11px'>"+r.implication+"</td><td>"+tg(r.severity,r.severity==="HIGH"?"rd":"yl")+"</td></tr>"}h+="</tbody></table></div>";return h}
var rgcl=m.regime==="CRISIS"||m.regime==="STAGFLATION RISK"?"var(--rd)":m.regime==="GOLDILOCKS"||m.regime==="EXPANSION"?"var(--gn)":m.regime==="LATE CYCLE STRESS"||m.regime==="RECESSION RISK"?"var(--yl)":"var(--ac)";
var stcl=(m.system_stress||0)>70?"var(--rd)":(m.system_stress||0)>50?"var(--yl)":(m.system_stress||0)>30?"var(--ac)":"var(--gn)";
var prcl=pr.prediction==="SEIZING UP"||pr.prediction==="TIGHTENING FAST"?"var(--rd)":pr.prediction==="EXPANDING FAST"||pr.prediction==="EASING"?"var(--gn)":"var(--yl)";
var h="";
h+='<div class="c" style="background:linear-gradient(135deg,rgba(59,130,246,0.08),var(--cd));margin-bottom:16px;padding:20px">';
h+='<div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:16px">';
h+='<div><div style="font-size:11px;color:var(--dm);text-transform:uppercase;letter-spacing:2px;margin-bottom:4px">MACRO REGIME v2.0</div>';
h+='<div style="font-size:36px;font-weight:700;color:'+rgcl+'">'+(m.regime||"--")+"</div>";
h+='<div style="font-size:12px;color:var(--dm);margin-top:4px">GDP: <b class="mo">'+(m.gdp_growth||"--")+'%</b> | CPI: <b class="mo">'+(m.cpi_yoy||"--")+'%</b> | PCE: <b class="mo">'+(m.pce_yoy||"--")+'%</b> | Claims: <b class="mo">'+((m.claims||0).toLocaleString())+"</b></div></div>";
h+='<div style="text-align:right"><div style="font-size:11px;color:var(--dm)">SYSTEM STRESS</div>';
h+='<div class="mo" style="font-size:42px;font-weight:700;color:'+stcl+'">'+(m.system_stress||0)+'</div><div style="font-size:10px;color:var(--dm)">/100</div></div></div>';
h+=sr(m.system_stress||0,100,stcl,"")+"</div>";
h+='<div class="c" style="margin-bottom:16px;border-left:3px solid '+prcl+'">';
h+='<div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px">';
h+='<div><div style="font-size:11px;color:var(--dm);text-transform:uppercase;letter-spacing:1px">SEIZURE / EXPANSION PREDICTION</div>';
h+='<div style="font-size:24px;font-weight:700;margin-top:4px;color:'+prcl+'">'+(pr.prediction||"--")+"</div></div>";
h+='<div style="text-align:right"><div style="font-size:11px;color:var(--dm)">CONFIDENCE</div>';
h+='<div class="mo" style="font-size:24px;font-weight:700">'+(pr.confidence||0)+"%</div></div></div>";
h+='<div style="margin-top:8px;font-size:12px;color:var(--dm)">Timeline: <b style="color:var(--tx)">'+(pr.timeline||"--")+"</b></div>";
h+='<div style="margin-top:4px;font-size:12px;color:var(--dm)">Stress Momentum: <b class="mo" style="color:'+((pr.stress_momentum||0)>0?"var(--rd)":"var(--gn)")+'">'+(pr.stress_momentum>0?"+":"")+(pr.stress_momentum||0)+"</b></div>";
h+='<div style="margin-top:8px;padding:10px;background:rgba(255,255,255,0.03);border-radius:6px;font-size:12px;color:var(--tx)">'+(pr.trend_change_outlook||"")+"</div></div>";
h+='<div class="g g4" style="margin-bottom:16px">'+_ssb(ss)+"</div>";
h+='<div class="g g5" style="margin-bottom:16px">';
h+=scrd("Growth",rx.growth_score||0,"",rx.growth_score>60?"var(--gn)":"var(--rd)");
h+=scrd("Inflation",rx.inflation_score||0,"",rx.inflation_score>60?"var(--rd)":"var(--gn)");
h+=scrd("Recession",rx.recession_score||0,"",rx.recession_score>50?"var(--rd)":"var(--gn)");
h+='<div class="c sc"><div style="font-size:24px;font-weight:700;color:'+(rx.vix>25?"var(--rd)":rx.vix>18?"var(--yl)":"var(--gn)")+'" class="mo">'+(rx.vix?rx.vix.toFixed(1):"--")+'</div><div class="cs">VIX ('+(rx.vol_risk||"--")+")</div></div>";
h+='<div class="c sc"><div style="font-size:24px;font-weight:700;color:'+(rx.sahm_rule>0.5?"var(--rd)":"var(--gn)")+'" class="mo">'+(rx.sahm_rule!=null?rx.sahm_rule.toFixed(2):"--")+'</div><div class="cs">Sahm Rule</div></div></div>';
h+='<div style="margin-bottom:16px"><div style="font-size:13px;font-weight:700;color:var(--cy);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">DXY / DOLLAR COMPLEX '+tg(dl.regime||"",(dl.regime==="WRECKING BALL"||dl.regime==="STRONG")?"rd":(dl.regime==="WEAK"||dl.regime==="COLLAPSE")?"gn":"yl")+"</div>";
h+='<div class="g g4" style="margin-bottom:8px">'+scrd("Dollar",dl.score||0,"",dl.score>60?"var(--rd)":dl.score>40?"var(--yl)":"var(--gn)");
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(dl.broad||"--")+'</div><div class="cs">Broad DXY</div><div style="font-size:10px;color:var(--dm)">Z: '+(dl.z_score||"--")+" | P"+(dl.percentile||"--")+"</div></div>";
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(dl.advanced||"--")+'</div><div class="cs">vs Advanced</div></div>';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(dl.emerging||"--")+'</div><div class="cs">vs EM</div></div></div>';
h+='<div class="g g4">'+_prs(dl.pairs||{})+"</div>";
h+='<div class="c" style="margin-top:8px;padding:10px;font-size:12px;color:var(--dm);border-left:2px solid var(--cy)">'+(dl.interpretation||"")+"</div></div>";
h+='<div style="margin-bottom:16px"><div style="font-size:13px;font-weight:700;color:var(--or);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">ICE BofA CREDIT '+tg(ib.regime||"",(ib.regime==="DISTRESS"||ib.regime==="STRESS")?"rd":ib.regime==="EUPHORIA"?"yl":"gn")+"</div>";
h+='<div class="g g4" style="margin-bottom:8px">'+scrd("Credit",ib.score||0,"",ib.score>60?"var(--rd)":ib.score>40?"var(--yl)":"var(--gn)");
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(ib.hy_oas||"--")+'<span style="font-size:12px">bp</span></div><div class="cs">HY OAS</div><div style="font-size:10px;color:'+cc(ib.hy_chg)+'" class="mo">'+cs(ib.hy_chg||0)+"%</div></div>";
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(ib.ig_oas||"--")+'<span style="font-size:12px">bp</span></div><div class="cs">IG OAS</div></div>';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(ib.compression||"--")+'x</div><div class="cs">HY/IG</div></div></div>';
h+='<div class="g g6">';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ib.aaa_oas||"--")+'<span style="font-size:10px">bp</span></div><div class="cs">AAA</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ib.bbb_oas||"--")+'<span style="font-size:10px">bp</span></div><div class="cs">BBB</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ib.bb_oas||"--")+'<span style="font-size:10px">bp</span></div><div class="cs">BB</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px;color:'+((ib.ccc_oas||0)>1000?"var(--rd)":"var(--tx)")+'">'+(ib.ccc_oas||"--")+'<span style="font-size:10px">bp</span></div><div class="cs">CCC</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ib.ig_yield!=null?ib.ig_yield.toFixed(2):"--")+'%</div><div class="cs">IG Yld</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ib.hy_yield!=null?ib.hy_yield.toFixed(2):"--")+'%</div><div class="cs">HY Yld</div></div></div>';
h+='<div class="c" style="margin-top:8px;padding:10px;font-size:12px;color:var(--dm);border-left:2px solid var(--or)">'+(ib.interpretation||"")+"</div></div>";
h+='<div style="margin-bottom:16px"><div style="font-size:13px;font-weight:700;color:var(--pr);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">MANUFACTURING / PMI '+tg(mf.regime||"",mf.regime==="EXPANSION"?"gn":mf.regime==="RECESSION"?"rd":"yl")+" "+tg(mf.momentum||"",(mf.momentum==="ACCELERATING"||mf.momentum==="IMPROVING")?"gn":"rd")+"</div>";
h+='<div class="g g4" style="margin-bottom:8px">'+scrd("Mfg",mf.score||0,"",mf.ism_pmi>50?"var(--gn)":"var(--rd)");
h+='<div class="c sc"><div style="font-size:36px;font-weight:700;color:'+((mf.ism_pmi||0)>=50?"var(--gn)":"var(--rd)")+'" class="mo">'+(mf.ism_pmi||"--")+'</div><div class="cs">ISM PMI</div></div>';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(mf.new_orders||"--")+'</div><div class="cs">New Orders</div></div>';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(mf.orders_inv_spread||"--")+'</div><div class="cs">Orders-Inv</div></div></div>';
h+='<div class="g g6">';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(mf.employment||"--")+'</div><div class="cs">Empl</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(mf.prices||"--")+'</div><div class="cs">Prices</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(mf.inventories||"--")+'</div><div class="cs">Invntry</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(mf.deliveries||"--")+'</div><div class="cs">Deliv</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(mf.capacity_util||"--")+'%</div><div class="cs">Cap Util</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(mf.industrial_prod||"--")+'</div><div class="cs">Ind Prod</div></div></div>';
h+='<div class="c" style="margin-top:8px;padding:10px;font-size:12px;color:var(--dm);border-left:2px solid var(--pr)">'+(mf.interpretation||"")+"</div></div>";
h+='<div style="margin-bottom:16px"><div style="font-size:13px;font-weight:700;color:var(--ac);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">EURODOLLAR / DOLLAR FUNDING '+tg(ed.regime||"",(ed.regime==="DOLLAR SHORTAGE"||ed.regime==="STRESS")?"rd":ed.regime==="FLUSH"?"gn":"yl")+"</div>";
h+='<div class="g g4" style="margin-bottom:8px">'+scrd("ED Stress",ed.score||0,"",ed.score>50?"var(--rd)":ed.score>25?"var(--yl)":"var(--gn)");
h+='<div class="c sc"><div style="font-size:24px;font-weight:700;color:'+((ed.ted_spread||0)>0.3?"var(--rd)":"var(--gn)")+'" class="mo">'+(ed.ted_spread||"--")+'</div><div class="cs">TED Spread</div></div>';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(ed.sofr_iorb||"--")+'</div><div class="cs">SOFR-IORB</div></div>';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(ed.effr_iorb||"--")+'</div><div class="cs">EFFR-IORB</div></div></div>';
h+='<div class="g g5">';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ed.effr||"--")+'%</div><div class="cs">EFFR</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ed.sofr||"--")+'%</div><div class="cs">SOFR</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ed.iorb||"--")+'%</div><div class="cs">IORB</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ed.obfr||"--")+'%</div><div class="cs">OBFR</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(ed.prime||"--")+'%</div><div class="cs">Prime</div></div></div>';
h+='<div class="c" style="margin-top:8px;padding:10px;font-size:12px;color:var(--dm);border-left:2px solid var(--ac)">'+(ed.interpretation||"")+"</div></div>";
h+='<div style="margin-bottom:16px"><div style="font-size:13px;font-weight:700;color:var(--yl);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">FINANCIAL CONDITIONS '+tg(fc.regime||"",(fc.regime==="CRISIS TIGHTENING"||fc.regime==="TIGHTENING")?"rd":(fc.regime==="ULTRA EASY"||fc.regime==="EASY")?"gn":"yl")+"</div>";
h+='<div class="g g4" style="margin-bottom:8px">'+scrd("FCI",fc.score||0,"",fc.score>60?"var(--rd)":fc.score>40?"var(--yl)":"var(--gn)");
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(fc.nfci!=null?fc.nfci.toFixed(3):"--")+'</div><div class="cs">NFCI</div></div>';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(fc.stlfsi!=null?fc.stlfsi.toFixed(3):"--")+'</div><div class="cs">STL FSI</div></div>';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">'+(fc.kcfsi!=null?fc.kcfsi.toFixed(3):"--")+'</div><div class="cs">KC FSI</div></div></div>';
h+='<div class="g g3">';
h+='<div class="c"><div class="ct">Bank Credit</div><div style="margin-top:8px">Growth:<b class="mo" style="color:'+cc(fc.bank_credit_chg)+'">'+cs(fc.bank_credit_chg||0)+'%</b><br>C&I:<b class="mo" style="color:'+cc(fc.ci_loan_chg)+'">'+cs(fc.ci_loan_chg||0)+"%</b></div></div>";
h+='<div class="c"><div class="ct">Lending Std</div><div style="margin-top:8px">Large:<b class="mo">'+(fc.lending_tightening_lg||"--")+'%</b><br>Small:<b class="mo">'+(fc.lending_tightening_sm||"--")+"%</b></div></div>";
h+='<div class="c"><div class="ct">NFCI Sub</div><div style="margin-top:8px">Credit:<b class="mo">'+(fc.nfci_credit!=null?fc.nfci_credit.toFixed(3):"--")+'</b><br>Leverage:<b class="mo">'+(fc.nfci_leverage!=null?fc.nfci_leverage.toFixed(3):"--")+"</b></div></div></div>";
h+='<div class="c" style="margin-top:8px;padding:10px;font-size:12px;color:var(--dm);border-left:2px solid var(--yl)">'+(fc.interpretation||"")+"</div></div>";
h+='<div style="margin-bottom:16px"><div style="font-size:13px;font-weight:700;color:var(--gn);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">GLOBAL TRADE '+tg(gt.regime||"",gt.regime==="DEEP DEFICIT"?"rd":gt.regime==="SURPLUS"?"gn":"yl")+"</div>";
h+='<div class="g g4">';
h+='<div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">$'+(gt.balance_b||"--")+'B</div><div class="cs">Trade Bal</div></div>';
h+='<div class="c sc"><div style="font-size:20px;font-weight:700" class="mo">'+(gt.import_prices||"--")+'</div><div class="cs">Import Px</div></div>';
h+='<div class="c sc"><div style="font-size:20px;font-weight:700" class="mo">'+(gt.export_prices||"--")+'</div><div class="cs">Export Px</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">Imp:<span style="color:'+cc(gt.import_price_chg)+'">'+cs(gt.import_price_chg||0)+'%</span><br>Exp:<span style="color:'+cc(gt.export_price_chg)+'">'+cs(gt.export_price_chg||0)+'%</span></div><div class="cs">Chg</div></div></div>';
h+='<div class="c" style="margin-top:8px;padding:10px;font-size:12px;color:var(--dm);border-left:2px solid var(--gn)">'+(gt.interpretation||"")+"</div></div>";
h+='<div style="margin-bottom:16px"><div style="font-size:13px;font-weight:700;color:var(--rd);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">RISK MATRIX</div>';
h+='<div class="g g4">';
h+='<div class="c sc"><div class="mo" style="font-size:16px">'+(rx.spread_10y3m!=null?rx.spread_10y3m.toFixed(3):"--")+'%</div><div class="cs">10Y-3M</div><div style="font-size:10px;color:'+((rx.spread_10y3m||0)<0?"var(--rd)":"var(--gn)")+'">'+ ((rx.spread_10y3m||0)<0?"INVERTED":"NORMAL")+"</div></div>";
h+='<div class="c sc"><div class="mo" style="font-size:16px">'+(rx.spread_10y2y!=null?rx.spread_10y2y.toFixed(3):"--")+'%</div><div class="cs">10Y-2Y</div><div style="font-size:10px;color:'+((rx.spread_10y2y||0)<0?"var(--rd)":"var(--gn)")+'">'+ ((rx.spread_10y2y||0)<0?"INVERTED":"NORMAL")+"</div></div>";
h+='<div class="c sc"><div class="mo" style="font-size:16px">'+(rx.recession_prob||"--")+'%</div><div class="cs">Recess Prob</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:16px">'+(rx.unrate||"--")+'%</div><div class="cs">Unemp</div></div></div>';
h+='<div class="g g4" style="margin-top:8px">';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+((rx.claims||0).toLocaleString())+'</div><div class="cs">Claims</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+((rx.cont_claims||0).toLocaleString())+'</div><div class="cs">Cont Claims</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(rx.breakeven_10y!=null?rx.breakeven_10y.toFixed(2):"--")+'%</div><div class="cs">10Y BE</div></div>';
h+='<div class="c sc"><div class="mo" style="font-size:14px">'+(rx.forward_5y5y!=null?rx.forward_5y5y.toFixed(2):"--")+'%</div><div class="cs">5Y5Y Fwd</div></div></div></div>';
h+='<div style="margin-bottom:16px"><div style="font-size:13px;font-weight:700;color:var(--or);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">TREND REVERSALS ('+rvs.length+') '+(m.high_severity_reversals>0?'<span style="color:var(--rd)">'+m.high_severity_reversals+' HIGH</span>':"")+"</div>";
h+=_rvt(rvs)+"</div>";
h+='<div style="font-size:10px;color:var(--dm);text-align:center;margin-top:16px">Macro v'+(m.expanded_version||"2.0")+" | "+Object.keys(D.fred||{}).length+" FRED | "+new Date().toLocaleString()+"</div>";
document.getElementById("p-macro").innerHTML=h}

function ry(){let y=D.yield_curve||{};document.getElementById('p-yieldcurve').innerHTML=`<div class="g g4" style="margin-bottom:16px"><div class="c sc"><div style="font-size:24px;font-weight:700;color:${y.shape?.includes('INVERT')?'var(--rd)':'var(--gn)'}">${y.shape||'--'}</div><div class="cs">Shape</div></div><div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">${y.spread_2s10s?.toFixed(2)||'--'}%</div><div class="cs">2s10s</div></div><div class="c sc"><div style="font-size:24px;font-weight:700;color:var(--cy)">${y.curve_move||'--'}</div><div class="cs">Move</div></div><div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">${y.term_premium?.toFixed(2)||'--'}%</div><div class="cs">Term Premium</div></div></div><div class="g g2"><div class="c"><div class="ct">Rates</div><div style="margin-top:8px">${Object.entries(y.rates||{}).map(([k,v])=>`<div style="display:flex;justify-content:space-between;padding:2px 0"><span style="font-size:11px;color:var(--dm)">${k}</span><span class="mo" style="font-size:12px">${v?.toFixed(2)}%</span></div>`).join('')}</div></div><div class="c"><div class="ct">Real Rates & Inflation</div><div style="margin-top:8px">Real 5Y:<b class="mo">${y.real_5y?.toFixed(2)||'--'}%</b><br>Real 10Y:<b class="mo">${y.real_10y?.toFixed(2)||'--'}%</b><br>5Y BE:<b class="mo">${y.breakeven_5y?.toFixed(2)||'--'}%</b><br>10Y BE:<b class="mo">${y.breakeven_10y?.toFixed(2)||'--'}%</b><br>5Y5Y Fwd:<b class="mo">${y.forward_5y5y?.toFixed(2)||'--'}%</b></div></div></div>`}
function rcr(){let c=D.credit||{};document.getElementById('p-credit').innerHTML=`<div class="g g4" style="margin-bottom:16px"><div class="c sc"><div style="font-size:24px;font-weight:700;color:${c.phase==='DISTRESS'?'var(--rd)':'var(--ac)'}">${c.phase||'--'}</div><div class="cs">Credit Cycle</div></div><div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">${c.hy_oas||'--'}</div><div class="cs">HY OAS</div></div><div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">${c.ig_oas||'--'}</div><div class="cs">IG OAS</div></div><div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">${c.compression||'--'}</div><div class="cs">HY/IG Ratio</div></div></div><div class="g g3"><div class="c"><div class="ct">Spreads</div><div style="margin-top:8px">BBB:<b class="mo">${c.bbb_oas||'--'}bp</b><br>Quality:<b class="mo">${c.quality_spread||'--'}bp</b><br>TED:<b class="mo">${c.ted_spread?.toFixed(2)||'--'}%</b></div></div><div class="c"><div class="ct">Z-Scores</div><div style="margin-top:8px">IG Z:<b class="mo">${c.ig_zscore?.toFixed(2)||'--'}</b><br>HY Z:<b class="mo">${c.hy_zscore?.toFixed(2)||'--'}</b></div></div><div class="c"><div class="ct">Yields</div><div style="margin-top:8px">IG:<b class="mo">${c.ig_yield?.toFixed(2)||'--'}%</b><br>HY:<b class="mo">${c.hy_yield?.toFixed(2)||'--'}%</b></div></div></div>`}
function rl(){let l=D.liquidity||{};document.getElementById('p-liquidity').innerHTML=`<div class="g g4" style="margin-bottom:16px">${scrd('Score',l.score||0,l.regime||'',l.score>60?'var(--gn)':l.score>40?'var(--yl)':'var(--rd)')}<div class="c sc"><div style="font-size:20px;font-weight:700" class="mo">$${((l.net_liquidity||0)/1e6).toFixed(2)}T</div><div class="cs">Net Liquidity</div></div><div class="c sc"><div style="font-size:20px;font-weight:700" class="mo">$${((l.fed_bs||0)/1e6).toFixed(2)}T</div><div class="cs">Fed BS</div></div><div class="c sc"><div style="font-size:20px;font-weight:700" class="mo">$${(l.rrp||0).toLocaleString()}B</div><div class="cs">ON RRP</div></div></div><div class="g g3"><div class="c"><div class="ct">Components</div><div style="margin-top:8px">TGA:<b class="mo">$${(l.tga||0).toLocaleString()}B</b><br>M2:<b class="mo">$${((l.m2||0)/1000).toFixed(1)}T</b><br>Reserves:<b class="mo">$${(l.reserves||0).toLocaleString()}B</b></div></div><div class="c"><div class="ct">1M Changes</div><div style="margin-top:8px">Fed:<b class="mo" style="color:${cc(l.fed_chg_1m)}">${cs(l.fed_chg_1m||0)}%</b><br>RRP:<b class="mo" style="color:${cc(l.rrp_chg_1m)}">${cs(l.rrp_chg_1m||0)}%</b><br>M2:<b class="mo" style="color:${cc(l.m2_chg_1m)}">${cs(l.m2_chg_1m||0)}%</b></div></div><div class="c"><div class="ct">Formula</div><div style="margin-top:8px;font-size:12px">Net Liq = Fed BS - RRP - TGA<br>${l.regime==='ABUNDANT'?'<span style="color:var(--gn)">Ample reserves support risk assets</span>':l.regime==='SCARCE'?'<span style="color:var(--rd)">Tight liquidity = dollar strength, risk headwind</span>':'<span style="color:var(--ac)">Adequate - monitor direction</span>'}</div></div></div>`}
function rv(){let v=D.vol_regime||{};document.getElementById('p-volatility').innerHTML=`<div class="g g4"><div class="c sc"><div style="font-size:36px;font-weight:700;color:${v.vix>25?'var(--rd)':v.vix>18?'var(--yl)':'var(--gn)'}" class="mo">${v.vix?.toFixed(1)||'--'}</div><div class="cs">VIX</div></div><div class="c sc"><div style="font-size:24px;font-weight:700;color:${rc(v.regime==='CRISIS'?'RECESSION':'GOLDILOCKS')}">${v.regime||'--'}</div><div class="cs">Vol Regime</div></div><div class="c sc"><div style="font-size:24px;font-weight:700" class="mo">${v.rv_20d?.toFixed(1)||'--'}%</div><div class="cs">Realized 20D</div></div><div class="c sc"><div style="font-size:24px;font-weight:700;color:${v.vol_signal==='OVERPRICED'?'var(--rd)':v.vol_signal==='UNDERPRICED'?'var(--gn)':'var(--ac)'}">${v.vol_signal||'--'}</div><div class="cs">Premium: ${v.vol_premium?.toFixed(1)||'--'}</div></div></div>`}
function rse(){let se=D.sectors||{};let so=Object.entries(se).sort((a,b)=>(b[1].chg_20d||0)-(a[1].chg_20d||0));document.getElementById('p-sectors').innerHTML=`<div class="ct" style="margin-bottom:12px">SECTOR ROTATION (20D)</div><div class="hm" style="margin-bottom:16px">${so.map(([n,s])=>{let c=s.chg_20d||0;let bg=c>3?'rgba(16,185,129,0.3)':c>1?'rgba(16,185,129,0.15)':c>0?'rgba(16,185,129,0.07)':c>-1?'rgba(239,68,68,0.07)':c>-3?'rgba(239,68,68,0.15)':'rgba(239,68,68,0.3)';return`<div class="hmc" style="background:${bg}"><div style="font-weight:700">${n}</div><div class="mo" style="color:${cc(c)}">${cs(c)}%</div><div style="font-size:10px;color:var(--dm)">${s.phase||''}</div></div>`}).join('')}</div><table class="tbl"><thead><tr><th>#</th><th>Sector</th><th>ETF</th><th>5D</th><th>20D</th><th>60D</th><th>RSI</th><th>Phase</th></tr></thead><tbody>${so.map(([n,s])=>`<tr><td class="mo">${s.rank}</td><td>${n}</td><td class="mo">${s.etf}</td><td class="mo" style="color:${cc(s.chg_5d)}">${cs(s.chg_5d||0)}%</td><td class="mo" style="color:${cc(s.chg_20d)}">${cs(s.chg_20d||0)}%</td><td class="mo" style="color:${cc(s.chg_60d)}">${cs(s.chg_60d||0)}%</td><td class="mo">${s.rsi?.toFixed(0)}</td><td>${tg(s.phase||'',s.phase==='LEADING'?'gn':s.phase==='IMPROVING'?'cy':s.phase==='WEAKENING'?'yl':'rd')}</td></tr>`).join('')}</tbody></table>`}
function rim(){let i=D.intermarket||{};document.getElementById('p-intermarket').innerHTML=`<div class="g g4"><div class="c sc"><div style="font-size:18px;font-weight:700;color:${i.stock_bond_regime==='RISK_ON'?'var(--gn)':'var(--rd)'}">${i.stock_bond_regime||'--'}</div><div class="cs">Stock-Bond</div></div><div class="c sc"><div style="font-size:18px;font-weight:700" class="mo">${cs(i.em_dm_spread||0)}%</div><div class="cs">EM-DM</div></div><div class="c sc"><div style="font-size:18px;font-weight:700" class="mo">${cs(i.small_large_spread||0)}%</div><div class="cs">Small-Large</div></div><div class="c sc"><div style="font-size:18px;font-weight:700" class="mo">${cs(i.growth_value_spread||0)}%</div><div class="cs">Growth-Value</div></div></div>`}
function rp(){let p=D.portfolio||{},a=p.allocation||{};let cl={equities:'#3b82f6',fixed_income:'#10b981',commodities:'#f59e0b',cash:'#6b7294',alternatives:'#8b5cf6'};document.getElementById('p-portfolio').innerHTML=`<h2 style="font-size:18px;font-weight:700;margin-bottom:4px">Portfolio - ${p.regime||'--'}</h2><div class="c" style="margin-bottom:16px"><div class="ab">${Object.entries(a).map(([k,v])=>`<div class="as" style="width:${v}%;background:${cl[k]||'var(--dm)'}">${v}%</div>`).join('')}</div><div style="display:flex;gap:16px;flex-wrap:wrap">${Object.entries(a).map(([k,v])=>`<div style="display:flex;align-items:center;gap:4px"><div style="width:10px;height:10px;border-radius:2px;background:${cl[k]}"></div><span style="font-size:11px;text-transform:capitalize">${k.replace(/_/g,' ')}: ${v}%</span></div>`).join('')}</div></div><div class="g g2"><div class="c"><div class="ct">Equity Picks</div><div style="margin-top:8px">${(p.equity_picks||[]).map(t=>`<span class="tg tg-bl" style="margin:2px">${t}</span>`).join('')}</div></div><div class="c"><div class="ct">Fixed Income</div><div style="margin-top:8px">${(p.fi_picks||[]).map(t=>`<span class="tg tg-gn" style="margin:2px">${t}</span>`).join('')}</div></div></div>`}
function rst(){let sk=Object.entries(D.stocks||{}).sort((a,b)=>Math.abs(b[1].daily_chg||0)-Math.abs(a[1].daily_chg||0));document.getElementById('p-stocks').innerHTML=`<div style="margin-bottom:8px;font-size:12px;color:var(--dm)">${sk.length} tickers</div><div style="overflow-x:auto"><table class="tbl"><thead><tr><th>Ticker</th><th>Price</th><th>Chg%</th><th>RSI</th><th>MACD</th><th>Trend</th><th>Vol</th><th>From High</th><th>Score</th><th>Sector</th></tr></thead><tbody>${sk.slice(0,100).map(([t,s])=>`<tr><td><b>${t}</b></td><td class="mo">$${s.price?.toFixed(2)}</td><td class="mo" style="color:${cc(s.daily_chg)}">${cs(s.daily_chg||0)}%</td><td class="mo" style="color:${s.rsi>70?'var(--rd)':s.rsi<30?'var(--gn)':'var(--tx)'}">${s.rsi?.toFixed(0)}</td><td class="mo" style="color:${s.macd_hist>0?'var(--gn)':'var(--rd)'}">${s.macd_hist?.toFixed(3)}</td><td class="mo">${s.trend_score}/3</td><td class="mo">${s.vol_20d?.toFixed(0)}%</td><td class="mo" style="color:${cc(s.pct_from_high)}">${s.pct_from_high?.toFixed(1)}%</td><td class="mo" style="color:${s.composite_score>60?'var(--gn)':s.composite_score<40?'var(--rd)':'var(--tx)'}">${s.composite_score?.toFixed(0)}</td><td style="font-size:10px">${s.sector}</td></tr>`).join('')}</tbody></table></div>`}
function rf(){let fr=Object.entries(D.fred||{}).sort((a,b)=>Math.abs(b[1].zscore||0)-Math.abs(a[1].zscore||0));document.getElementById('p-fred').innerHTML=`<div style="margin-bottom:8px;font-size:12px;color:var(--dm)">${fr.length} series (by |Z|)</div><div style="overflow-x:auto"><table class="tbl"><thead><tr><th>ID</th><th>Name</th><th>Value</th><th>1W</th><th>1M</th><th>1Y</th><th>Z</th><th>%ile</th></tr></thead><tbody>${fr.slice(0,100).map(([k,v])=>`<tr><td class="mo" style="font-size:10px">${k}</td><td style="font-size:11px">${v.name?.slice(0,20)}</td><td class="mo"><b>${typeof v.value==='number'?v.value.toFixed(2):v.value}</b></td><td class="mo" style="color:${cc(v.chg_1w)};font-size:11px">${cs(v.chg_1w||0)}</td><td class="mo" style="color:${cc(v.chg_1m)};font-size:11px">${cs(v.chg_1m||0)}</td><td class="mo" style="color:${cc(v.chg_1y)};font-size:11px">${cs(v.chg_1y||0)}</td><td class="mo" style="color:${Math.abs(v.zscore)>2?'var(--rd)':Math.abs(v.zscore)>1?'var(--yl)':'var(--tx)'}"><b>${v.zscore?.toFixed(2)}</b></td><td class="mo">${v.percentile?.toFixed(0)}%</td></tr>`).join('')}</tbody></table></div>`}
function rrk(){let g=D.gauges||{};document.getElementById('p-risk').innerHTML=`<div class="g g3">${Object.entries(g).map(([k,v])=>`<div class="c"><div style="display:flex;justify-content:space-between;margin-bottom:12px"><div class="ct" style="text-transform:capitalize">${k.replace(/_/g,' ')}</div>${tg(v.level||'','CRISIS HIGH'.includes(v.level)?'rd':v.level==='ELEVATED'?'yl':'gn')}</div>${sr(v.score||0,100,lc(v.level),'')}<div style="margin-top:8px;font-size:11px;color:var(--dm)">${Object.entries(v).filter(([kk])=>!['score','level'].includes(kk)).map(([kk,vv])=>`${kk}:<b class="mo">${typeof vv==='number'?vv.toFixed(2):vv}</b>`).join(' | ')}</div></div>`).join('')}</div>`}

var ir=D.inflation_regime||{};
if(ir.regime){
var irc=ir.regime_color||'ac';
var irx='<div style="margin-top:32px;border-top:2px solid var(--border,#333);padding-top:24px">';
irx+='<div style="display:flex;align-items:center;gap:12px;margin-bottom:16px;flex-wrap:wrap">';
irx+='<div style="font-size:22px;font-weight:700;color:var(--fg)">INFLATION REGIME</div>';
irx+='<span class="tg '+irc+'">'+ir.regime_label+'</span>';
irx+='<span class="tg '+(ir.conviction=="HIGH"?"gn":ir.conviction=="MODERATE"?"yl":"fg")+'">'+ir.conviction+' '+ir.conviction_pct+'%</span>';
irx+='</div>';
irx+='<div style="padding:12px 16px;background:var(--card);border-radius:8px;margin-bottom:16px;color:var(--fg);font-size:14px;border-left:4px solid var(--'+irc+')">'+ir.regime_desc+'</div>';
var iis=ir.inflation_score||0;
var igs=ir.growth_score||0;
irx+='<div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px">';
irx+='<div style="background:var(--card);padding:14px;border-radius:8px"><div style="font-size:11px;color:var(--muted,#888);margin-bottom:6px">INFLATION PRESSURE</div>';
irx+='<div style="font-size:28px;font-weight:700;color:var(--'+(iis>60?"rd":iis>35?"yl":"gn")+')">'+iis+'<span style="font-size:14px;opacity:0.6">/100</span></div>';
irx+='<div style="height:6px;background:var(--bg);border-radius:3px;margin-top:6px"><div style="height:100%;width:'+iis+'%;background:var(--'+(iis>60?"rd":iis>35?"yl":"gn")+');border-radius:3px"></div></div></div>';
irx+='<div style="background:var(--card);padding:14px;border-radius:8px"><div style="font-size:11px;color:var(--muted,#888);margin-bottom:6px">GROWTH MOMENTUM</div>';
irx+='<div style="font-size:28px;font-weight:700;color:var(--'+(igs>60?"gn":igs>35?"yl":"rd")+')">'+igs+'<span style="font-size:14px;opacity:0.6">/100</span></div>';
irx+='<div style="height:6px;background:var(--bg);border-radius:3px;margin-top:6px"><div style="height:100%;width:'+igs+'%;background:var(--'+(igs>60?"gn":igs>35?"yl":"rd")+');border-radius:3px"></div></div></div>';
irx+='</div>';
var ii=ir.inputs||{};
irx+='<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:20px">';
var iks=[["BE 10Y",ii.breakeven_10y],["5Y5Y Fwd",ii.forward_5y5y],["GDP",ii.gdp+"%"],["ISM PMI",ii.ism_pmi]];
for(var ik=0;ik<iks.length;ik++){irx+='<div style="background:var(--card);padding:10px;border-radius:6px;text-align:center"><div style="font-size:10px;color:var(--muted,#888)">'+iks[ik][0]+'</div><div style="font-size:16px;font-weight:600;color:var(--fg)">'+iks[ik][1]+'</div></div>';}
irx+='</div>';
irx+='<div style="margin-bottom:20px"><div style="font-size:15px;font-weight:700;color:var(--gn);margin-bottom:10px">TOP 5 \u2014 BUY / OVERWEIGHT</div>';
irx+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:10px">';
var b5=ir.best_5||[];
for(var bi=0;bi<b5.length;bi++){var ba=b5[bi];irx+='<div style="background:var(--card);border:1px solid var(--gn);border-radius:8px;padding:12px"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px"><div><span style="font-weight:700;color:var(--fg)">'+ba.etf+'</span> <span style="font-size:11px;color:var(--muted,#888)">'+ba.name+'</span></div><span class="tg gn">'+ba.score+'/100</span></div><div style="font-size:12px;color:var(--muted,#888)">'+ba.why+'</div></div>';}
irx+='</div></div>';
irx+='<div style="margin-bottom:20px"><div style="font-size:15px;font-weight:700;color:var(--rd);margin-bottom:10px">BOTTOM 5 \u2014 AVOID / UNDERWEIGHT</div>';
irx+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:10px">';
var w5=ir.worst_5||[];
for(var wi=0;wi<w5.length;wi++){var wa=w5[wi];irx+='<div style="background:var(--card);border:1px solid var(--rd);border-radius:8px;padding:12px"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px"><div><span style="font-weight:700;color:var(--fg)">'+wa.etf+'</span> <span style="font-size:11px;color:var(--muted,#888)">'+wa.name+'</span></div><span class="tg rd">'+wa.score+'/100</span></div><div style="font-size:12px;color:var(--muted,#888)">'+wa.why+'</div></div>';}
irx+='</div></div>';
irx+='<div style="margin-bottom:20px"><div style="font-size:15px;font-weight:700;color:var(--fg);margin-bottom:10px">ALL 26 ASSET CLASSES \u2014 RANKED</div>';
irx+='<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:6px">';
var aa=ir.all_assets||[];
for(var ai=0;ai<aa.length;ai++){var ac=aa[ai];var aclr=ac.score>=70?"gn":ac.score>=45?"yl":ac.score>=25?"or":"rd";irx+='<div style="background:var(--card);border-left:3px solid var(--'+aclr+');padding:8px 10px;border-radius:4px"><div style="font-weight:600;font-size:13px;color:var(--fg)">'+ac.etf+'</div><div style="font-size:11px;color:var(--muted,#888)">'+ac.name.split("(")[0]+'</div><div style="font-size:16px;font-weight:700;color:var(--'+aclr+')">'+ac.score+'</div></div>';}
irx+='</div></div>';
irx+='</div>';
var rk=document.getElementById('p-risk');
if(rk){rk.innerHTML+=irx;}
}

}
function rn(){let n=D.news||[];document.getElementById('p-news').innerHTML=`<div class="ct" style="margin-bottom:12px">NEWS (${n.length})</div>${n.map(x=>`<div class="c" style="margin-bottom:8px"><a href="${x.url}" target="_blank" style="color:var(--tx);text-decoration:none;font-weight:600">${x.title}</a><div style="font-size:11px;color:var(--dm);margin-top:4px">${x.source} | ${x.published?new Date(x.published).toLocaleString():''}</div></div>`).join('')}`}
function rw(){document.getElementById('p-raw').innerHTML=`<div class="c"><pre class="mo" style="font-size:11px;overflow:auto;max-height:800px;white-space:pre-wrap">${JSON.stringify(D,null,2)}</pre></div>`}
async function load(){try{let r=await fetch(DU+'?t='+Date.now());D=await r.json();ro();rt();rs();rm();ry();rcr();rl();rv();rse();rim();rp();rst();rf();rrk();rn();rw()}catch(e){document.getElementById('p-overview').innerHTML=`<div class="c" style="padding:40px;text-align:center;color:var(--rd)">Error: ${e.message}<br><span style="color:var(--dm);font-size:12px">Run Lambda first to generate pro-data.json</span></div>`}}
load();setInterval(load,300000);</script></body></html>