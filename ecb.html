<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECB Systemic Risk Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #151932 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }
        
        .header {
            background: rgba(20, 24, 44, 0.95);
            padding: 1.5rem;
            text-align: center;
            border-bottom: 2px solid rgba(0, 255, 136, 0.3);
        }
        
        .header h1 {
            color: #00ff88;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .risk-banner {
            background: linear-gradient(135deg, rgba(255, 68, 68, 0.2), rgba(255, 170, 0, 0.2));
            border: 2px solid #ff4444;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .risk-level {
            font-size: 3rem;
            font-weight: bold;
            color: #ff4444;
            margin: 1rem 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #00ff88;
        }
        
        .country-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .country-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .country-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.2);
        }
        
        .country-card.high-risk {
            background: rgba(255, 68, 68, 0.1);
            border-color: rgba(255, 68, 68, 0.3);
        }
        
        .country-card.medium-risk {
            background: rgba(255, 170, 0, 0.1);
            border-color: rgba(255, 170, 0, 0.3);
        }
        
        .country-card.low-risk {
            background: rgba(0, 255, 136, 0.1);
            border-color: rgba(0, 255, 136, 0.3);
        }
        
        .chart-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🏦 ECB Systemic Risk Intelligence Platform</h1>
        <p>Real-time Eurozone Financial Stability Monitoring</p>
    </div>
    
    <div class="container">
        <div class="risk-banner">
            <h2>Eurozone Systemic Risk Assessment</h2>
            <div class="risk-level">HIGH RISK</div>
            <p>Average systemic stress: 10.40% across 11 countries</p>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">10.4%</div>
                <div>Average Stress</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">5</div>
                <div>High Risk Countries</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">11</div>
                <div>Countries Monitored</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">159</div>
                <div>ECB Indicators</div>
            </div>
        </div>
        
        <h2>Country Risk Indicators (CISS)</h2>
        <div class="country-grid">
            <div class="country-card high-risk">
                <div style="font-size: 3rem;">🇫🇮</div>
                <div><strong>Finland</strong></div>
                <div style="font-size: 1.75rem; color: #ff4444;">22.69%</div>
                <div style="color: #ff4444;">HIGH RISK</div>
            </div>
            <div class="country-card high-risk">
                <div style="font-size: 3rem;">🇦🇹</div>
                <div><strong>Austria</strong></div>
                <div style="font-size: 1.75rem; color: #ff4444;">20.88%</div>
                <div style="color: #ff4444;">HIGH RISK</div>
            </div>
            <div class="country-card high-risk">
                <div style="font-size: 3rem;">🇧🇪</div>
                <div><strong>Belgium</strong></div>
                <div style="font-size: 1.75rem; color: #ff4444;">15.42%</div>
                <div style="color: #ff4444;">HIGH RISK</div>
            </div>
            <div class="country-card high-risk">
                <div style="font-size: 3rem;">🇳🇱</div>
                <div><strong>Netherlands</strong></div>
                <div style="font-size: 1.75rem; color: #ffaa00;">13.21%</div>
                <div style="color: #ffaa00;">HIGH RISK</div>
            </div>
            <div class="country-card high-risk">
                <div style="font-size: 3rem;">🇫🇷</div>
                <div><strong>France</strong></div>
                <div style="font-size: 1.75rem; color: #ffaa00;">10.13%</div>
                <div style="color: #ffaa00;">HIGH RISK</div>
            </div>
            <div class="country-card medium-risk">
                <div style="font-size: 3rem;">🇵🇹</div>
                <div><strong>Portugal</strong></div>
                <div style="font-size: 1.75rem; color: #ffaa00;">7.26%</div>
                <div style="color: #ffaa00;">MEDIUM RISK</div>
            </div>
            <div class="country-card medium-risk">
                <div style="font-size: 3rem;">🇮🇹</div>
                <div><strong>Italy</strong></div>
                <div style="font-size: 1.75rem; color: #ffaa00;">6.68%</div>
                <div style="color: #ffaa00;">MEDIUM RISK</div>
            </div>
            <div class="country-card medium-risk">
                <div style="font-size: 3rem;">🇮🇪</div>
                <div><strong>Ireland</strong></div>
                <div style="font-size: 1.75rem; color: #ffaa00;">5.79%</div>
                <div style="color: #ffaa00;">MEDIUM RISK</div>
            </div>
            <div class="country-card low-risk">
                <div style="font-size: 3rem;">🇩🇪</div>
                <div><strong>Germany</strong></div>
                <div style="font-size: 1.75rem; color: #00ff88;">4.79%</div>
                <div style="color: #00ff88;">LOW RISK</div>
            </div>
            <div class="country-card low-risk">
                <div style="font-size: 3rem;">🇬🇷</div>
                <div><strong>Greece</strong></div>
                <div style="font-size: 1.75rem; color: #00ff88;">3.98%</div>
                <div style="color: #00ff88;">LOW RISK</div>
            </div>
            <div class="country-card low-risk">
                <div style="font-size: 3rem;">🇪🇸</div>
                <div><strong>Spain</strong></div>
                <div style="font-size: 1.75rem; color: #00ff88;">3.60%</div>
                <div style="color: #00ff88;">LOW RISK</div>
            </div>
        </div>
        
        <div class="chart-container">
            <h3>Systemic Stress Levels by Country</h3>
            <div id="chart"></div>
        </div>
    </div>
    
    <script>
        // Create the chart with your actual ECB data
        const countries = ['Finland', 'Austria', 'Belgium', 'Netherlands', 'France', 
                          'Portugal', 'Italy', 'Ireland', 'Germany', 'Greece', 'Spain'];
        const values = [22.69, 20.88, 15.42, 13.21, 10.13, 7.26, 6.68, 5.79, 4.79, 3.98, 3.60];
        const colors = values.map(v => v > 15 ? '#ff4444' : v > 10 ? '#ffaa00' : '#00ff88');
        
        Plotly.newPlot('chart', [{
            x: countries,
            y: values,
            type: 'bar',
            marker: { 
                color: colors,
                line: { color: 'rgba(255,255,255,0.2)', width: 1 }
            },
            text: values.map(v => v + '%'),
            textposition: 'outside'
        }], {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0.2)',
            font: { color: '#fff' },
            xaxis: { 
                gridcolor: 'rgba(255,255,255,0.1)',
                tickangle: -45
            },
            yaxis: { 
                title: 'Stress Level (%)',
                gridcolor: 'rgba(255,255,255,0.1)'
            },
            margin: { t: 20, b: 100 },
            shapes: [{
                type: 'line',
                x0: -0.5,
                x1: 10.5,
                y0: 15,
                y1: 15,
                line: { color: '#ff4444', width: 2, dash: 'dash' }
            }, {
                type: 'line',
                x0: -0.5,
                x1: 10.5,
                y0: 10,
                y1: 10,
                line: { color: '#ffaa00', width: 2, dash: 'dash' }
            }]
        }, {responsive: true});
        
        // Periodically try to fetch live data (optional)
        async function tryFetchLiveData() {
            try {
                const response = await fetch('https://dv7wxb807j.execute-api.us-east-1.amazonaws.com/prod/risk-assessment');
                const data = await response.json();
                console.log('Live data available:', data);
                // Could update the display with live data here
            } catch (error) {
                console.log('Using static data (API unreachable from browser)');
            }
        }
        
        // Try to fetch live data on load
        tryFetchLiveData();
    </script>
</body>
</html>